extends CharacterBody2D

@export var speed := 200.0
@export var hex_combat: HexCombat

var current_hex: Vector2i
var current_side: int = -1

func _physics_process(delta):
	var input_dir = Vector2(
		Input.get_action_strength("ui_right") - Input.get_action_strength("ui_left"),
		Input.get_action_strength("ui_down") - Input.get_action_strength("ui_up")
	).normalized()

	if input_dir != Vector2.ZERO:
		var moved = hex_combat.try_enter_hex(self, input_dir)
		if moved:
			velocity = input_dir * speed
		else:
			velocity = Vector2.ZERO
	else:
		velocity = Vector2.ZERO

	move_and_slide()
